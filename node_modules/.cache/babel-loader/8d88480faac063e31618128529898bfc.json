{"ast":null,"code":"var _jsxFileName = \"/Users/christian/Dropbox/Code_courses/trying_react/chs-01/src/components/Barchart.js\";\nimport React from \"react\";\nimport { Stage, Layer, Line, Text } from \"react-konva\";\nimport Konva from \"konva\";\nimport ColoredRect from \"./ColoredRect\";\n\nclass Barchart extends React.Component {\n  constructor(...args) {\n    super(...args);\n\n    this.renderText = gutter => {\n      Object.keys(this.props.data).map(key => {\n        console.log(this.props.data[i].value);\n      });\n      return (// Object.keys(data).map(key => {\n        React.createElement(Line // horisontal x axis\n        , {\n          points: [10, 30, gutter + 10, 30],\n          stroke: \"black\",\n          strokeWidth: 1,\n          tension: 1,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 18\n          },\n          __self: this\n        }) // });\n\n      );\n    };\n  }\n\n  render() {\n    const data = this.props.data;\n    const gutter = 20;\n    const width = this.props.width - gutter;\n    const height = this.props.height - gutter;\n\n    function maxHeightCalc() {\n      let h = 0;\n      Object.keys(data).map(key => {\n        if (data[key].value > h) {\n          h = data[key].value;\n        }\n      });\n      return h;\n    } // highest bar should fill up the barchart height. All bars should be scaled\n\n\n    const scale = height / maxHeightCalc(); // x posiiton of the bar\n\n    const xPos = width / Object.keys(data).length; // space between bars should be 1/2 the width of bars.\n    // 4 bars = 3 spaces. -> 4 + 4 + 3 = 11. Width /11 = each space. And a bar is twice that.\n\n    const barWidth = 2 * (width / (Object.keys(data).length * 2 + (Object.keys(data).length - 1)));\n    return React.createElement(Stage, {\n      width: this.props.width,\n      height: this.props.height,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57\n      },\n      __self: this\n    }, React.createElement(Layer, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58\n      },\n      __self: this\n    }, Object.keys(data).map((key, index) => React.createElement(ColoredRect, {\n      key: key,\n      xPos: xPos * index + gutter,\n      yPos: height - scale * data[key].value,\n      height: scale * data[key].value,\n      width: barWidth,\n      value: data[key].value,\n      chartHeight: height // used for labels\n      ,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60\n      },\n      __self: this\n    })), React.createElement(Line // horisontal x axis\n    , {\n      points: [gutter, height, this.props.width, height],\n      stroke: \"black\",\n      strokeWidth: 1,\n      tension: 1,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70\n      },\n      __self: this\n    }), this.renderText(gutter), React.createElement(Line // vertical Y axis\n    // [x1, y1, x2, y2, x3, y3]\n    , {\n      points: [gutter, 0, gutter, height],\n      stroke: \"black\",\n      strokeWidth: 1,\n      tension: 1,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80\n      },\n      __self: this\n    })));\n  }\n\n}\n\nexport default Barchart;","map":{"version":3,"sources":["/Users/christian/Dropbox/Code_courses/trying_react/chs-01/src/components/Barchart.js"],"names":["React","Stage","Layer","Line","Text","Konva","ColoredRect","Barchart","Component","renderText","gutter","Object","keys","props","data","map","key","console","log","i","value","render","width","height","maxHeightCalc","h","scale","xPos","length","barWidth","index"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport { Stage, Layer, Line, Text } from \"react-konva\";\nimport Konva from \"konva\";\nimport ColoredRect from \"./ColoredRect\";\n\nclass Barchart extends React.Component {\n  renderText = gutter => {\n    \n\n    Object.keys(this.props.data).map(key => {\n      console.log(this.props.data[i].value);\n    });\n\n    return (\n      \n      \n      // Object.keys(data).map(key => {\n      <Line\n        // horisontal x axis\n        points={[10, 30, gutter + 10, 30]}\n        stroke={\"black\"}\n        strokeWidth={1}\n        tension={1}\n      />\n   \n    // });\n    )\n  };\n\n  render() {\n    const data = this.props.data;\n    const gutter = 20;\n    const width = this.props.width - gutter;\n    const height = this.props.height - gutter;\n\n    function maxHeightCalc() {\n      let h = 0;\n      Object.keys(data).map(key => {\n        if (data[key].value > h) {\n          h = data[key].value;\n        }\n      });\n      return h;\n    }\n\n    // highest bar should fill up the barchart height. All bars should be scaled\n    const scale = height / maxHeightCalc();\n    // x posiiton of the bar\n    const xPos = width / Object.keys(data).length;\n    // space between bars should be 1/2 the width of bars.\n    // 4 bars = 3 spaces. -> 4 + 4 + 3 = 11. Width /11 = each space. And a bar is twice that.\n    const barWidth =\n      2 *\n      (width / (Object.keys(data).length * 2 + (Object.keys(data).length - 1)));\n\n    return (\n      <Stage width={this.props.width} height={this.props.height}>\n        <Layer>\n          {Object.keys(data).map((key, index) => (\n            <ColoredRect\n              key={key}\n              xPos={xPos * index + gutter}\n              yPos={height - scale * data[key].value}\n              height={scale * data[key].value}\n              width={barWidth}\n              value={data[key].value}\n              chartHeight={height} // used for labels\n            />\n          ))}\n          <Line\n            // horisontal x axis\n            points={[gutter, height, this.props.width, height]}\n            stroke={\"black\"}\n            strokeWidth={1}\n            tension={1}\n          />\n\n          {this.renderText(gutter)}\n\n          <Line\n            // vertical Y axis\n            // [x1, y1, x2, y2, x3, y3]\n            points={[gutter, 0, gutter, height]}\n            stroke={\"black\"}\n            strokeWidth={1}\n            tension={1}\n          />\n        </Layer>\n      </Stage>\n    );\n  }\n}\n\nexport default Barchart;\n"]},"metadata":{},"sourceType":"module"}
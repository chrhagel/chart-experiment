{"ast":null,"code":"var _jsxFileName = \"/Users/chagelsorensen/Documents/react/chart-experiment/src/components/Scatterplot.js\";\nimport React from \"react\";\nimport { Stage, Layer, Rect, Line } from \"react-konva\";\nimport Konva from \"konva\";\nimport Plotmark from \"./Plotmark\";\n\nclass Scatterplot extends React.Component {\n  constructor(...args) {\n    super(...args);\n\n    this.renderBackground = (height, width, gutter) => {\n      return React.createElement(Rect, {\n        x: 0,\n        y: 0,\n        width: width + gutter,\n        height: height,\n        fill: this.props.theme.bgcol,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 10\n        },\n        __self: this\n      });\n    };\n  }\n\n  render() {\n    const data = this.props.data;\n    let gutter = 0;\n\n    if (this.props.theme.showYTicks) {\n      gutter = 10;\n    }\n\n    const width = this.props.width - gutter;\n    const height = this.props.height - gutter;\n\n    function maxHeightCalc() {\n      let h = 0;\n      Object.keys(data).map(key => {\n        if (data[key].rating > h) {\n          h = data[key].rating;\n        }\n      });\n      return h;\n    }\n\n    function maxWidthCalc() {\n      let w = 0;\n      Object.keys(data).map(key => {\n        if (data[key].years > w) {\n          w = data[key].years;\n        }\n      });\n      return w;\n    } // highest bar should fill up the barchart height. All bars should be scaled\n\n\n    const hScale = height / maxHeightCalc();\n    const wScale = width / maxWidthCalc();\n    return React.createElement(Stage, {\n      width: this.props.width,\n      height: this.props.height,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58\n      },\n      __self: this\n    }, React.createElement(Layer, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59\n      },\n      __self: this\n    }, this.renderBackground(height, width, gutter), Object.keys(data).map((key, index) => React.createElement(Plotmark, {\n      key: key,\n      xPos: data[key].years * wScale,\n      yPos: data[key].rating * hScale,\n      radius: 5,\n      color: this.props.theme.barcols[0],\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65\n      },\n      __self: this\n    }))));\n  }\n\n}\n\nexport default Scatterplot;","map":{"version":3,"sources":["/Users/chagelsorensen/Documents/react/chart-experiment/src/components/Scatterplot.js"],"names":["React","Stage","Layer","Rect","Line","Konva","Plotmark","Scatterplot","Component","renderBackground","height","width","gutter","props","theme","bgcol","render","data","showYTicks","maxHeightCalc","h","Object","keys","map","key","rating","maxWidthCalc","w","years","hScale","wScale","index","barcols"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport { Stage, Layer, Rect, Line } from \"react-konva\";\nimport Konva from \"konva\";\nimport Plotmark from \"./Plotmark\";\n\nclass Scatterplot extends React.Component {\n\n  renderBackground = (height, width, gutter) => {\n    return (\n      <Rect\n        x={0}\n        y={0}\n        width={width + gutter}\n        height={height}\n        fill={this.props.theme.bgcol}\n      />\n    );\n  };\n\n\n\n\n  render() {\n    const data = this.props.data;\n    let gutter = 0;\n    if (this.props.theme.showYTicks) {\n      gutter = 10;\n    }\n\n    const width = this.props.width - gutter;\n    const height = this.props.height - gutter;\n\n    function maxHeightCalc() {\n      let h = 0;\n      Object.keys(data).map(key => {\n        if (data[key].rating > h) {\n          h = data[key].rating;\n        }\n      });\n      return h;\n    }\n\n    function maxWidthCalc() {\n      let w = 0;\n      Object.keys(data).map(key => {\n        if (data[key].years > w) {\n          w = data[key].years;\n        }\n      });\n      return w;\n    }\n\n    // highest bar should fill up the barchart height. All bars should be scaled\n    const hScale = height / maxHeightCalc();\n    const wScale = width / maxWidthCalc();\n\n    return (\n      <Stage width={this.props.width} height={this.props.height}>\n        <Layer>\n\n        {this.renderBackground(height, width, gutter)}\n\n          {/* plot marks */}\n          {Object.keys(data).map((key, index) => (\n            <Plotmark\n              key={key}\n              xPos={data[key].years * wScale}\n              yPos={data[key].rating * hScale}\n              radius={5}\n              color={this.props.theme.barcols[0]}\n            />\n          ))}\n        </Layer>\n      </Stage>\n    );\n  }\n}\n\nexport default Scatterplot;\n"]},"metadata":{},"sourceType":"module"}